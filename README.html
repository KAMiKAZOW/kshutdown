<!DOCTYPE html>
<html lang="en">
<!-- TODO: validate me -->
<head>
	<title>KShutdown - README</title>
	<meta charset="UTF-8" />
	<style type="text/css">
	body {
		font-family: sans-serif;
		margin-left: 5%;
		margin-right: 5%;
		padding-left: 5%;
		padding-right: 5%;
	}
	
	code, pre {
		background-color: #eeeeee;
		font-size: larger;
		padding: 2px;
	}

	h2 {
		color: #009900;
		margin-top: 2em;
	}
	
	h4 {
		color: #990000;
	}
	
	p.footer {
		font-size: smaller;
	}
	
	table {
		border: 1px solid gray;
		border-collapse: collapse;
		width: 100%;
	}
	
	td {
		padding: 2px;
	}
	
	td.build {
		font-weight: bold;
	}

	td.na {
		background-color: #BFD9FF;
		text-align: center;
	}
	
	td.ok {
		background-color: #D8E8C2;
		text-align: center;
	}
	
	td.ok:hover {
		background-color: #FFFFBF;
		cursor: help;
	}
	
	td.todo {
		background-color: orange;
		text-align: center;
	}

	td.wip {
		background-color: #F9CCCA;
		text-align: center;
	}
	
	thead {
		font-weight: bold;
		text-align: center;
	}
	
	thead td {
		padding: 5px;
		width: 10%;
	}
	</style>
</head>
<body>

<h1>KShutdown - README</h1>

<p>
Visit <a href="http://kshutdown.sourceforge.net/">KShutdown Home Page</a> and
<a href="http://sourceforge.net/apps/mediawiki/kshutdown/index.php?title=Main_Page">Wiki</a> for more info.
</p>

<h2>Table of Contents</h2>
<ul>
	<li><a href="#kde4linux">KDE 4 Build @ Linux</a></li>
	<li><a href="#qt4linux">Qt 4 Build @ Linux</a></li>
	<li><a href="#qt4windows">Qt 4 Build @ Windows</a></li>
	<li><a href="#supported">Supported Functions/Platforms</a></li>
	<li><a href="#compatibility">Compatibility</a></li>
	<li><a href="http://kshutdown.sourceforge.net/contact.html">Contact</a></li>
	<li><a href="http://www.gnu.org/copyleft/gpl.html">License</a> (GPL)</li>
</ul>

<h2 id="kde4linux">KDE 4 Build @ Linux</h2>

<h3>Minimal Requirements</h3>
<ol>
	<li>KDE 4.4+</li>
	<li>Qt 4.6+</li>
</ol>

<h3>Compilation &amp; Installation</h3>
<ol>
	<li>Additional requirements: installed <code>"kdelibs-dev"</code> package, CMake 2.4, and Gettext Utilities</li>
	<li>To compile and install KShutdown run: <code>./Setup-kde4.sh</code></li>
	<li>To change the installation directory (prefix) run: <code>./Setup-kde4.sh "/your/prefix/dir"</code></li>
</ol>

<h3>Common Errors</h3>

<h4>CMake Error at /usr/share/cmake-2.6/Modules/FindKDE4.cmake:72</h4>
<pre>
CMake Error at /usr/share/cmake-2.6/Modules/FindKDE4.cmake:72 (MESSAGE):
ERROR: cmake/modules/FindKDE4Internal.cmake not found in
...;/usr/lib/kde4/share/kde4/apps
</pre>
<p>Install "kdelibs-dev" (sometimes called kdelibs5-dev) and "kdebase-workspace-dev" packages for your KDE version.</p>

<h4>CMake Error at (...) Phonon library or includes NOT found!</h4>
<p>This may happed after Ubuntu upgrade
even if required Phonon files are already installed. [<a href="http://osdir.com/ml/digikam-users/2009-11/msg00024.html">Solution</a>]</p>

<h4>"pushd: not found" error</h4>
<p>
Try to run
<code>./Setup-kde4.sh</code> and
<code>cd build.tmp; sudo make install</code> instead of 
<code>sudo sh Setup-kde4.sh</code>
</p>

<h3>Compilation &amp; Installation (alternate method; for Geeks only)</h3>
<p>
<i>BUILDTYPE</i> can be <code>Release</code> or <code>Debug</code>.
You can change the installation directory (prefix) by setting the <code>CMAKE_INSTALL_PREFIX</code> environment variable.
To display default prefix for KDE 4 applications, run <code>kde4-config --prefix</code>.
</p>
<ol>
	<li>Create output directory: <code>mkdir build &amp;&amp; cd build</code></li>
	<li>Generate Makefiles: <code>cmake -DCMAKE_BUILD_TYPE=<i>BUILDTYPE</i> -DCMAKE_INSTALL_PREFIX="/usr/local" ..</code></li>
	<li>Compile: <code>make</code></li>
	<li>Make coffee</li>
	<li>Install: <code>make install</code></li>
</ol>

<h2 id="qt4linux">Qt 4 Build @ Linux</h2>

<p><b>Note:</b> Some functions may be unavailable in this build.
See <a href="#supported">Qt 4 Build</a> table for more info.</p>

<h3>Minimal Requirements</h3>
<ol>
	<li>Qt 4.6+ (KDE libraries are <b>not</b> required)</li>
</ol>

<h3>Compilation &amp; Installation</h3>
<ol>
	<li>To compile KShutdown run: <code>./Setup-qt4.sh</code></li>
	<li>Installation is not required</li>
</ol>

<h2 id="qt4windows">Qt 4 Build @ Windows</h2>

<p>Note: You can <a href="http://kshutdown.sourceforge.net/download.html">download</a> a binary (already compiled) KShutdown version for Windows.</p>

<h3>Minimal Requirements (for compilation)</h3>
<ol>
	<li><a href="http://qt.nokia.com/downloads/downloads#qt-lib">Qt libraries for Windows (minGW, LGPL version)</a> 4.6 or newer</li>
	<li><a href="http://www.blogistan.co.uk/qt/2009/12/where_get_mingw_qt_46.php">MinGW</a></li>
	<li><a href="http://nsis.sourceforge.net/">Nullsoft Scriptable Install System</a> (NSIS)</li>
	<li>Windows XP/Vista/7 or compatible (including <a href="http://www.winehq.org/">Wine</a>)</li>
</ol>

<h3>Compilation &amp; Installation</h3>
<ol>
	<li>To compile and install KShutdown run: <code>Setup-qt4.bat</code> (this will build both portable and installable version)</li>
	<li><b>Experimental:</b> To compile KShutdown under Wine/Linux run: <code>./Setup-wine.sh</code></li>
</ol>

<h2 id="supported">Supported Functions/Platforms</h2>

<div>
<table border="1">

<thead>

<tr>
<td>Turn Off Computer</td>
<td>Restart Computer</td>
<td>Suspend</td>
<td>Hibernate</td>
<td>Lock Screen</td>
<td>Logout</td>
<td>Extras</td>
<td>Waiting for a selected application</td>
<td>Inactivity Monitor</td>
</tr>

</thead>

<tfoot>

<tr><td colspan="9" style="font-weight: bold">Legend</td></tr>

<tr><td class="todo">TODO</td><td colspan="8">Testing...</td></tr>
<tr><td class="ok">OK<!-- TODO: implementation details --></td><td colspan="8">Done (hover an item to display implementation details)</td></tr>
<tr><td class="na">N/A</td><td colspan="8">Function is not available on this platform/KShutdown version</td></tr>
<tr><td class="wip">TODO/FIXME</td><td colspan="8">Work In Progress - to be implemented in a future...</td></tr>

<tr><td>KDE 4 Build</td><td colspan="8">A KShutdown version compiled using KDE4 libraries (better KDE integration + extra features)</td></tr>
<tr><td>Qt 4 Build</td><td colspan="8">A KShutdown version compiled without KDE4 libraries (Qt only)</td></tr>
<tr><td>CLI</td><td colspan="8">Function available via Command Line (example: kshutdown --lock)</td></tr>
<tr><td>Windows</td><td colspan="8">Microsoft Windows XP/Vista/7 or compatible</td></tr>
<tr><td>*</td><td colspan="8"><i>KDE 4 Build</i> not supported</td></tr>

</tfoot>

<tbody>

<tr><td class="build" colspan="9"><a href="http://kde.org/">KDE</a> 4 (KDE 4 Build)</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.ScreenSaver, org.kde.krunner), xdg-screensaver, xscreensaver-command">OK</td>
<td class="ok" title="KWorkSpace::requestShutDown(KWorkSpace::ShutdownConfirmNo, KWorkSpace::ShutdownTypeNone, KWorkSpace::ShutdownModeForceNow)">OK</td>
<td class="todo">TODO</td>
<td class="ok" title="::kill(pid, 0)">OK, no CLI</td>
<td class="ok" title="D-Bus (org.freedesktop.ScreenSaver, org.kde.krunner)">OK</td>
</tr>

<tr><td class="build" colspan="9">Windows (Qt 4 Build) *</small></td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://www.xfce.org/">Xfce</a> 4.8 (Qt 4 Build) *</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="xflock4, xdg-screensaver, xscreensaver-command">OK</td>
<td class="wip">FIXME</td>
<td class="na">N/A</td>
<td class="ok" title="::kill(pid, 0)">OK, no CLI</td>
<td class="wip">TODO</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://en.wikipedia.org/wiki/LXDE">LXDE</a> (Qt 4 Build) *</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="lxlock, xdg-screensaver, xscreensaver-command">OK</td>
<td class="ok" title="::kill(_LXSESSION_PID, SIGTERM)">OK</td>
<td class="na">N/A</td>
<td class="ok" title="::kill(pid, 0)">OK, no CLI</td>
<td class="wip">TODO</td>
</tr>

<tr><td class="build" colspan="9">KDE 4 (Qt 4 Build)</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.ScreenSaver, org.kde.krunner), xdg-screensaver, xscreensaver-command">OK</td>
<td class="wip">TODO</td>
<td class="na">N/A</td>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
</tr>

<tr><td class="build" colspan="9">GNOME 3 (Qt 4 Build) *</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="gnome-screensaver-command">OK</td>
<td class="ok" title="gnome-session-quit">OK</td>
<td class="na">N/A</td>
<td class="ok" title="::kill(pid, 0)">OK, no CLI</td>
<td class="wip">TODO</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://en.wikipedia.org/wiki/Unity_%28user_interface%29">Unity</a> (Qt 4 Build) *</td></tr>
<tr>
<td class="todo">TODO</td>
<td class="todo">TODO</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="D-Bus (org.freedesktop.UPower, org.freedesktop.Hal)">OK</td>
<td class="ok" title="gnome-screensaver-command">OK</td>
<td class="ok" title="gnome-session-quit">OK</td>
<td class="na">N/A</td>
<td class="ok" title="::kill(pid, 0)">OK, no CLI</td>
<td class="wip">TODO</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://www.enlightenment.org/">Enlightenment</a> (Qt 4 Build) *</td></tr>
<tr>
<td class="wip" colspan="9">TODO (?)</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://openbox.org/">Openbox</a> (Qt 4 Build) *</td></tr>
<tr>
<td class="wip" colspan="9">TODO (?)</td>
</tr>

<tr><td class="build" colspan="9"><a href="http://www.gnome.org/">GNOME</a> 2 (Qt 4 Build) *</td></tr>
<tr>
<td class="wip" colspan="9">TODO (?)</td>
</tr>

<tr><td class="build" colspan="9">KDE 3 (Qt 4 Build) *</td></tr>
<tr>
<td class="wip" colspan="9">TODO (?); KShutDown 1.0.x exists but it's outdated and not supported...</td>
</tr>

</tbody>

</table>
</div>

<h2 id="compatibility">Compatibility with old KShutdown 1.0.x</h2>

<p>Some configuration and command line options in KShutdown 2.x
may be not fully compatible with the old KShutdown 1.0.x.</p>

<p class="footer">&copy; Konrad Twardowski</p>

</body>
</html>